# 1. 权衡的艺术
## 1.1 命令式和声明式
* 命令式关注过程——jQuery
* 声明式关注结果——vuejs
## 1.2 性能与可维护性的权衡
声明式的代码性能不优于命令式代码的性能。    
```
命令式代码性能消耗 = 直接修改的性能消耗
声明式代码性能消耗 = 找出差异的性能消耗 + 直接修改的性能消耗
```
## 1.3 虚拟DOM的性能
DOM层面的计算远比JavaScript层面的计算性能差。
```
// 创建页面二者差距不大
innerHtml创建页面的性能 = HTML字符串拼接的计算量 + innerHTML的DOM计算量
虚拟DOM创建页面的性能 = 创建JavaScript的计算量 + 创建真实DOM的计算量
```
```
// 虚拟DOM性能更好

innerHtml更新页面的性能 = 重新构建HTML字符串的计算量 + 销毁所有旧DOM + 新建所有新DOM // 性能与数据变化相关

虚拟DOM更新页面的性能 = 创建新的JavaScript对象 + Diff + 必要的DOM更新 // 性能与模版大小相关
```
|  innerHtml(模板)  | 虚拟DOM  | 原生JavaScript  |
|  ---------------  | ------- |--------------  |
| 心智负担中等  | 心智负担小 | 心智负担大 |
| 可维护性一般  | 可维护性强 | 可维护性差 |
| 性能差  | 性能不错 | 性能高 |

## 1.4 运行时和编译时
* 纯运行时的框架——提供Render函数将数据渲染为DOM元素
* 运行时+编译时——Compiler把HTML标签编译为树形结构的数据对象+Render将数据渲染为DOM元素
* 纯编译时的框架——提供Compiler把HTML编译为命令式代码
